1in."enter a number between 1 and 100:";z:f.y=1toz:a=r.(32767):n.y
2cls:z=0:y=1:a=z:t=z:v=13:c=44:d=z:e=z:r=z:x=2:i=z:j=z:g=100:h=4
3k=512:l=32:u=16:n=255:o=99:f=65535:q=6:s=3841:b=4096:m=39:p=y:w=z
4f.i=ztoc:rea.a(i):n.i:p."welcome to the battle system test!":p.:p.
5p."two soldiers approach.":p.
6ifa(v*a)=zt.9
7ifa=zt.27
8t=z:g.47
9ifa(z)=zt.100
10a=a+y:ifa<>zt.t=z
11ifa(v*a)=zt.a=a+y
12ifa>xt.a=z
13d=z:ifa(v*y)=zt.d=d+y
14ifa(v*x)=zt.d=d+y
15ifd=xt.17
16g.6
17p."you are victorious.":p.:w=w+y:a=z:t=z:ifw>=10t.gos.24
18f.i=ytox:a(i*v)=a(i*v+y):n.i:gos.89
19ifr<12.5t.p."you obtained a potion!"
20ifr<12.5t.p.
21ifr<12.5t.p=p+y
22ifp>ot.p=o
23g.5
24gos.89:ifr>=25t.ret.
25f.i=vtom-y:a(i)=a(i)*1.5:n.i:p."the enemies have powered up!":p.
26ret.
27p.:p.a(z);"/";a(y);"hp":p.a(x);"/";a(3);"mp":p.:p."(1) attack"
28p."(2) magic":p."(3) items":p."(0) quit":in.c:ifc=yt.33
29ifc=xt.37
30ifc=3t.43
31ifc=zt.101
32g.27
33gos.90:ifc=zt.27
34ifc>xt.33
35ifc<zt.33
36g.47
37p.:p."(1) lightning -";a(m);"mp":p."(2) cure -";a(m+3);"mp"
38p."which spell do you want to cast?":p."type (0) to go back.":in.c
39ifc=yt.69
40ifc=xt.79
41ifc=zt.27
42g.37
43p.:p."(1) potion -";p:p."which item do you wish to use?"
44p."type (0) to go back.":in.c:ifc=yt.84
45ifc=zt.27
46g.43
47c=((a(a*v+10)/h)+(a(a*v+5)))+a(a*v+7)-a(t*v+7):gos.89
48i=a(a*v+11):gos.96:ifd>rt.c=n
49i=a(t*v+11):gos.96:ifd>rt.c=n
50ifr<ct.54
51ift>zt.p."your attack missed!"
52ift=zt.p."soldier";a;"missed you!"
53p.:g.9
54d=a(a*v+h):e=a(a*v+12):c=d+((d+e)/l)*((d*e)/l)
55d=((u*(k-a(t*v+q)))*c)/(u*k):c=(a(a*v+11)+a(a*v+12)-a(t*v+12))/h
56gos.97:ifr<=ct.58
57g.59
58d=i.(d*x)
59d=i.(d*(s+(r.(z)*n))/b):ifd=zt.d=y
60a(t*v)=a(t*v)-d:ifa(t*v)<=zt.a(t*v)=z
61ifa<>zt.65
62p."you hit soldier";t;"for";d;"hp.":p.:ifa(t*v)<>zt.64
63p."you defeated soldier";t:p.
64g.9
65ifd>zt.gos.98
66p."soldier";a;"hit you for";d;"hp.":p.:ifa(z)<>zt.68
67p."you died.":p.
68g.9
69e=z:d=z:ifa(m)>a(x)t.78
70a(x)=a(x)-a(m):gos.90:ifc=zt.37
71ifc>xt.69
72ifc<zt.69
73c=a(m+x)+a(a*v+12)-((a(t*v+12))/x)-y:gos.89:ifr<ct.gos.99
74ifr>ct.76
75d=(a(m+y)*(k-a(t*v+9))*c)/(u*k)
76ifd>zt.59
77p."your spell missed.":p.:g.9
78p.:p."you don't have enough mp to cast that spell.":g.37
79e=3:ifa(m+3)>a(x)t.78
80a(x)=a(x)-a(m+3):gos.99:d=c+22*a(m+y+e):d=i.(d*(s+(r.(z)*n))/b)
81p.:p."you have been healed for";d;"hp.":p.:a(z)=a(z)+d
82ifa(z)>a(y)t.a(z)=a(y)
83g.9
84ifp=zt.p.
85ifp=zt.p."you have no potions."
86ifp=zt.27
87a(z)=a(z)+g:ifa(z)>a(y)t.a(z)=a(y)
88p=p-y:p.:p."you have been healed for 100 hp.":p.:g.9
89r=i.(r.(z)*g):ret.
90p.:f.i=ytox:ifa(v*i)>zt.p."(";i;")";" soldier";i
91n.i:p."which enemy do you want to target?":p."(0) to go back.":in.c
92ifc=zt.ret.
93e=z:ifa(v*c)<=zt.e=n
94ife=nt.90
95t=c:p.:ret.
96d=i/h:ret.
97r=((r.(z)*f)*o/f)+y:ret.
98f.j=ztog:n.j:ret.
99c=q*(a(8)+a(12)):ret.
100p.:p."game over":p.:f.i=ztoy:gos.98:n.i
101p.:p."you won";w;"times.":p.:e.
102d.314,314,54,54,38,96,24,1,21,17,6,14,6,30,30,0,0,6,1,4,1,1
103d.1,50,4,2,30,30,0,0,6,1,4,1,1,1,50,4,2,4,8,100,5,5,255
